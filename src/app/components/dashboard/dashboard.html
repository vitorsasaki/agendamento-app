<div class="dashboard-container">
  <!-- Header do Dashboard -->
    <header class="dashboard-header">
    <div class="header-content">
      <div class="header-left">
        <h1>Dashboard</h1>
        <p class="welcome-text">
          Bem-vindo, {{ user?.nomeUsuario || user?.name || user?.email || 'Usuário' }}!
        </p>
        <p class="date-text">
          {{ formatCurrentDate() | titlecase }}
        </p>
      </div>
      <div class="header-right">
        <button class="logout-button" (click)="logout()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
            <polyline points="16,17 21,12 16,7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
          </svg>
          Sair
        </button>
      </div>
    </div>
  </header>

  <!-- Cards de Estatísticas -->
  <section class="stats-section">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon total">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 2v4"/>
            <path d="M16 2v4"/>
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M3 10h18"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalAgendamentos }}</h3>
          <p>Total de Agendamentos</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon today">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12,6 12,12 16,14"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats.agendamentosHoje }}</h3>
          <p>Agendamentos Hoje</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon pending">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2v4"/>
            <path d="M12 18v4"/>
            <path d="M4.93 4.93l2.83 2.83"/>
            <path d="M16.24 16.24l2.83 2.83"/>
            <path d="M2 12h4"/>
            <path d="M18 12h4"/>
            <path d="M4.93 19.07l2.83-2.83"/>
            <path d="M16.24 7.76l2.83-2.83"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats.agendamentosPendentes }}</h3>
          <p>Pendentes</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon completed">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22,4 12,14.01 9,11.01"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats.agendamentosConcluidos }}</h3>
          <p>Concluídos</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Seção de Agendamentos Recentes -->
  <section class="recent-section">
    <div class="section-header">
      <h2>Agendamentos Recentes</h2>
      <button class="view-all-button">
        Ver Todos
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9,18 15,12 9,6"/>
        </svg>
      </button>
    </div>

    <div class="agendamentos-table">
      <div class="table-header">
        <div class="header-cell">Cliente</div>
        <div class="header-cell">Serviço</div>
        <div class="header-cell">Data</div>
        <div class="header-cell">Hora</div>
        <div class="header-cell">Status</div>
        <div class="header-cell">Ações</div>
      </div>

      <div class="table-body">
        <div class="table-row" *ngFor="let agendamento of recentAgendamentos">
          <div class="table-cell">
            <div class="client-info">
              <div class="client-avatar">
                {{ agendamento.cliente.charAt(0) }}
              </div>
              <span>{{ agendamento.cliente }}</span>
            </div>
          </div>
          <div class="table-cell">{{ agendamento.servico }}</div>
          <div class="table-cell">{{ formatDate(agendamento.data) }}</div>
          <div class="table-cell">{{ agendamento.hora }}</div>
          <div class="table-cell">
            <span class="status-badge" [class]="getStatusClass(agendamento.status)">
              {{ getStatusText(agendamento.status) }}
            </span>
          </div>
          <div class="table-cell">
            <div class="action-buttons">
              <button class="action-btn edit" title="Editar">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                  <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                </svg>
              </button>
              <button class="action-btn delete" title="Excluir">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="3,6 5,6 21,6"/>
                  <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</div> 